{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Tutorial from\"../Tutorial\";import MainTest from\"../MainTest\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Test=function Test(){var storyLists=[{title:\"12월의 주말\",first_sentence:\"모처럼 집에서 여유를 즐기고 있다\\n밖에서 캐롤이 조용히 창문을 타고 들려온다\\n\",second_sentence:\"지난 한 해 동안의\\n내 발자취를 보기 위해\\n다이어리를 펼쳤다\\n\"},{title:\"모임 당일\",first_sentence:\"추운 날씨에 맞서기 위해\\n옷으로 꽁꽁 싸매고 집을 나섰다\\n\",second_sentence:\"그러다 길 옆쪽으로\\n사람들이 북적북적 모여있는 것을\\n발견했다\\n\"},{title:null,first_sentence:\"드디어 도착한 집,\\n재미있게 놀았나요?\\n\",second_sentence:\"추위와 싸웠을 당신을 위해\\n음료를 한 잔 준비했어요\\n\"}];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),story=_useState2[0],setStory=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),questionNum=_useState8[0],setQuestionNum=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),questionList=_useState10[0],setQuestionList=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),selectedMbti=_useState12[0],setSelectedMbti=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),finalResult=_useState14[0],setFinalResult=_useState14[1];useEffect(function(){axios.get(\"https://mern-cafe-mbti.herokuapp.com/get/question\").then(function(response){setQuestionList(response.data);setIsLoading(false);});},[]);useEffect(function(){if(questionNum==12){localStorage.setItem(\"arrayResult\",JSON.stringify(selectedMbti));calculateResult();}},[selectedMbti]);useEffect(function(){localStorage.setItem(\"fin_result\",JSON.stringify(finalResult));},[finalResult]);var storyHandler=function storyHandler(){setStory(story+1);setCount(count+1);};var questionHandler=function questionHandler(e){setSelectedMbti([].concat(_toConsumableArray(selectedMbti),[e.target.value]));setQuestionNum(questionNum+1);setCount(count+1);};var calculateResult=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var beforeResult,finResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:beforeResult=JSON.parse(localStorage.getItem(\"arrayResult\"));finResult=[];_context.next=4;return beforeResult.filter(function(x){return x==\"E\";});case 4:_context.t0=_context.sent;_context.t1=beforeResult.filter(function(x){return x==\"I\";});if(!(_context.t0>_context.t1)){_context.next=10;break;}finResult.push(\"E\");_context.next=11;break;case 10:finResult.push(\"I\");case 11:_context.next=13;return beforeResult.filter(function(x){return x==\"S\";});case 13:_context.t2=_context.sent;_context.t3=beforeResult.filter(function(x){return x==\"N\";});if(!(_context.t2>_context.t3)){_context.next=19;break;}finResult.push(\"S\");_context.next=20;break;case 19:finResult.push(\"N\");case 20:_context.next=22;return beforeResult.filter(function(x){return x==\"T\";});case 22:_context.t4=_context.sent;_context.t5=beforeResult.filter(function(x){return x==\"F\";});if(!(_context.t4>_context.t5)){_context.next=28;break;}finResult.push(\"T\");_context.next=29;break;case 28:finResult.push(\"F\");case 29:_context.next=31;return beforeResult.filter(function(x){return x==\"J\";});case 31:_context.t6=_context.sent;_context.t7=beforeResult.filter(function(x){return x==\"P\";});if(!(_context.t6>_context.t7)){_context.next=37;break;}finResult.push(\"J\");_context.next=38;break;case 37:finResult.push(\"P\");case 38:_context.next=40;return setFinalResult(finResult.join(\"\").toLowerCase());case 40:case\"end\":return _context.stop();}}},_callee);}));return function calculateResult(){return _ref.apply(this,arguments);};}();if(count==0||count==5||count==14){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Tutorial,{story:storyLists[story],storyHandler:storyHandler,count:count})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?\"loading\":/*#__PURE__*/_jsx(MainTest,{questionList:questionList,questionNum:questionNum,questionHandler:questionHandler})});}};export default Test;","map":{"version":3,"sources":["C:/Users/gyurilee/Documents/mern-cafe-test/client/src/components/pages/Test.js"],"names":["React","useState","useEffect","Tutorial","MainTest","axios","Test","storyLists","title","first_sentence","second_sentence","story","setStory","count","setCount","isLoading","setIsLoading","questionNum","setQuestionNum","questionList","setQuestionList","selectedMbti","setSelectedMbti","finalResult","setFinalResult","get","then","response","data","localStorage","setItem","JSON","stringify","calculateResult","storyHandler","questionHandler","e","target","value","beforeResult","parse","getItem","finResult","filter","x","push","join","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Tutorial from \"../Tutorial\";\r\nimport MainTest from \"../MainTest\";\r\nimport axios from \"axios\";\r\n\r\nconst Test = () => {\r\n    const storyLists = [\r\n        {\r\n            title: \"12월의 주말\",\r\n            first_sentence:\r\n                \"모처럼 집에서 여유를 즐기고 있다\\n밖에서 캐롤이 조용히 창문을 타고 들려온다\\n\",\r\n            second_sentence:\r\n                \"지난 한 해 동안의\\n내 발자취를 보기 위해\\n다이어리를 펼쳤다\\n\",\r\n        },\r\n        {\r\n            title: \"모임 당일\",\r\n            first_sentence:\r\n                \"추운 날씨에 맞서기 위해\\n옷으로 꽁꽁 싸매고 집을 나섰다\\n\",\r\n            second_sentence:\r\n                \"그러다 길 옆쪽으로\\n사람들이 북적북적 모여있는 것을\\n발견했다\\n\",\r\n        },\r\n        {\r\n            title: null,\r\n            first_sentence: \"드디어 도착한 집,\\n재미있게 놀았나요?\\n\",\r\n            second_sentence:\r\n                \"추위와 싸웠을 당신을 위해\\n음료를 한 잔 준비했어요\\n\",\r\n        },\r\n    ];\r\n    const [story, setStory] = useState(0);\r\n    const [count, setCount] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [questionNum, setQuestionNum] = useState(0);\r\n    const [questionList, setQuestionList] = useState([]);\r\n    const [selectedMbti, setSelectedMbti] = useState([]);\r\n    const [finalResult, setFinalResult] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        axios.get(\"https://mern-cafe-mbti.herokuapp.com/get/question\").then((response) => {\r\n            setQuestionList(response.data);\r\n            setIsLoading(false);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (questionNum == 12) {\r\n            localStorage.setItem(\"arrayResult\", JSON.stringify(selectedMbti));\r\n            calculateResult();\r\n        }\r\n    }, [selectedMbti]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"fin_result\", JSON.stringify(finalResult))\r\n    }, [finalResult])\r\n\r\n    const storyHandler = () => {\r\n        setStory(story + 1);\r\n        setCount(count + 1);\r\n    };\r\n\r\n    const questionHandler = (e) => {\r\n        setSelectedMbti([...selectedMbti, e.target.value]);\r\n        setQuestionNum(questionNum + 1);\r\n        setCount(count + 1);\r\n    };\r\n    const calculateResult = async () => {\r\n        let beforeResult = JSON.parse(localStorage.getItem(\"arrayResult\"));\r\n        let finResult = [];\r\n        (await beforeResult.filter((x) => x == \"E\")) >\r\n        beforeResult.filter((x) => x == \"I\")\r\n            ? finResult.push(\"E\")\r\n            : finResult.push(\"I\");\r\n        (await beforeResult.filter((x) => x == \"S\")) >\r\n        beforeResult.filter((x) => x == \"N\")\r\n            ? finResult.push(\"S\")\r\n            : finResult.push(\"N\");\r\n        (await beforeResult.filter((x) => x == \"T\")) >\r\n        beforeResult.filter((x) => x == \"F\")\r\n            ? finResult.push(\"T\")\r\n            : finResult.push(\"F\");\r\n        (await beforeResult.filter((x) => x == \"J\")) >\r\n        beforeResult.filter((x) => x == \"P\")\r\n            ? finResult.push(\"J\")\r\n            : finResult.push(\"P\");\r\n\r\n        await setFinalResult(finResult.join(\"\").toLowerCase());\r\n    };\r\n\r\n    if (count == 0 || count == 5 || count == 14) {\r\n        return (\r\n            <>\r\n                <Tutorial\r\n                    story={storyLists[story]}\r\n                    storyHandler={storyHandler}\r\n                    count = {count}\r\n                />\r\n            </>\r\n        );\r\n    } else {\r\n        return (\r\n            <>\r\n                {isLoading ? (\r\n                    \"loading\"\r\n                ) : (\r\n                    <MainTest\r\n                        questionList={questionList}\r\n                        questionNum={questionNum}\r\n                        questionHandler={questionHandler}\r\n                    />\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Test;\r\n"]},"metadata":{},"sourceType":"module"}
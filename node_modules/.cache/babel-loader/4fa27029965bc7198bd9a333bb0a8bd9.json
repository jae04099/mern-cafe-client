{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/gyurilee/Documents/mern-cafe-test/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useState,useEffect}from\"react\";import Styled from\"styled-components\";import{Link,Route,BrowserRouter as Router}from\"react-router-dom\";import Spinner from\"../Spinner\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Result=function Result(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),resultList=_useState2[0],setResultList=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),targetList=_useState4[0],setTargetList=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),reRender=_useState6[0],setReRender=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var mbti_result=JSON.parse(localStorage.getItem(\"fin_result\"));useEffect(function(){axios.get(\"https://mern-cafe-mbti.herokuapp.com/get/result\").then(function(response){setResultList(response.data);});},[reRender]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setReRender(0);_context.next=3;return getFinalMbti();case 3:_context.next=5;return targetList&&console.log(targetList);case 5:if(targetList){setIsLoading(false);}case 6:case\"end\":return _context.stop();}}},_callee);})),[resultList]);var getFinalMbti=function getFinalMbti(){for(var i=0;i<16;i++){if(resultList&&resultList[i].mbti==mbti_result){setTargetList(resultList[i]);return;}}console.log('fail');};return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(ResultWrap,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB098\\uC640 \\uC5B4\\uC6B8\\uB9AC\\uB294 \\uC74C\\uB8CC\\uB294\"}),/*#__PURE__*/_jsxs(MainResult,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/coffee/\".concat(targetList.image,\".png\"),alt:targetList.name}),/*#__PURE__*/_jsxs(\"div\",{class:\"coffee-feat\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"feat\",children:targetList.feature.short}),/*#__PURE__*/_jsx(\"p\",{class:\"name\",children:targetList.name})]}),/*#__PURE__*/_jsx(\"div\",{class:\"coffee-desc\",children:targetList.feature.long.split('</br>').map(function(line){return/*#__PURE__*/_jsxs(\"p\",{children:[line.replace(/(<\\/?(?:a|p|img)[^>]*>)|<[^>]+>/ig,''),/*#__PURE__*/_jsx(\"br\",{})]});})})]}),/*#__PURE__*/_jsxs(ResultFriend,{children:[/*#__PURE__*/_jsx(\"p\",{class:\"best_title\",children:\"\\uC5F0\\uB9D0\\uC5D0 \\uC0DD\\uAC01 \\uB0A0 \\uCD5C\\uACE0\\uC758 \\uAD81\\uD569\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{onclick:\"\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/coffee/\".concat(targetList.friends[0].image,\".png\"),alt:targetList.friends[0].name}),/*#__PURE__*/_jsx(\"span\",{children:targetList.friends[0].desc.split('</p>').map(function(line){return/*#__PURE__*/_jsx(\"p\",{children:line.replace(/(<\\/?(?:a|p|img)[^>]*>)|<[^>]+>/ig,'')});})})]}),/*#__PURE__*/_jsxs(\"li\",{onclick:\"location.href = '/result/14'\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/coffee/\".concat(targetList.friends[1].image,\".png\"),alt:targetList.friends[1].name}),/*#__PURE__*/_jsx(\"span\",{children:targetList.friends[1].desc.split('</p>').map(function(line){return/*#__PURE__*/_jsx(\"p\",{children:line.replace(/(<\\/?(?:a|p|img)[^>]*>)|<[^>]+>/ig,'')});})})]})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(ReturnBtn,{children:\"\\uD14C\\uC2A4\\uD2B8 \\uB2E4\\uC2DC \\uD558\\uB7EC\\uAC00\\uAE30\"})})]})});};export default Result;var ResultWrap=Styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nalign-items: center;\\nflex-direction: column;\\nfont-family: \\\"Cafe24Oneprettynight\\\";\\ncolor: #3a1a00;\\npadding: 50px 30px;\\noverflow-y: scroll;\\noverflow-x: hidden;\\nwidth: 100%;\\nheight: 100%;\\nbackground: url(../../images/background/background.png);\\nh3{\\n    margin: 30px 0;\\n    text-align: center;\\nfont-size: 2rem;\\n}\\na {\\n    display: flex;\\n    text-align: center;\\n    width: 100%;\\n}\\n\"])));var MainResult=Styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\nalign-items: center;\\njustify-content: center;\\nflex-direction: column;\\nimg {\\n    width: 220px;\\n}\\n\\n.coffee-feat {\\n    text-align: center;\\n    margin: 15px 0 35px 0;\\n    .feat {\\n        font-size: 1.7rem;\\n        margin-bottom: 10px;\\n        color: #b56467;\\n    }\\n    .name {\\n        font-size: 2.7rem;\\n    }\\n}\\n\\n.coffee-desc p {\\n    line-height: 1.5rem;\\n    font-size: 1.1rem;\\n    margin-bottom: 1rem;\\n}\\n\"])));var ResultFriend=Styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nalign-items: center;\\njustify-content: center;\\nflex-direction: column;\\np.best_title {\\n    font-size: 1.5rem;\\n    margin : 10px 0 30px 0;\\n}\\nimg {\\n    width: 130px;\\n}\\n\\nul {\\n    display: flex;\\n    li{\\n\\n        display: flex:\\n        align-items: center;\\n        justify-content: center;\\ntext-align: center;\\n    }\\n}\\n\"])));var ReturnBtn=Styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nmargin: 50px;\\npadding: 1rem 0;\\nfont-size: 1.5rem;\\nheight: 5rem;\\nwidth: 100%;\\nfont-family: \\\"Cafe24Oneprettynight\\\";\\nbackground-color: beige;\\nborder: none;\\n\"])));","map":{"version":3,"sources":["C:/Users/gyurilee/Documents/mern-cafe-test/client/src/components/pages/Result.js"],"names":["React","useState","useEffect","Styled","Link","Route","BrowserRouter","Router","Spinner","axios","Result","resultList","setResultList","targetList","setTargetList","reRender","setReRender","isLoading","setIsLoading","mbti_result","JSON","parse","localStorage","getItem","get","then","response","data","getFinalMbti","console","log","i","mbti","image","name","feature","short","long","split","map","line","replace","friends","desc","ResultWrap","div","MainResult","ResultFriend","ReturnBtn","button"],"mappings":"ovBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,aAAa,GAAIC,CAAAA,MAAvC,KAAqD,kBAArD,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACmBT,QAAQ,EAD3B,wCACVU,UADU,eACEC,aADF,8BAEmBX,QAAQ,EAF3B,yCAEVY,UAFU,eAEEC,aAFF,8BAGeb,QAAQ,EAHvB,yCAGVc,QAHU,eAGAC,WAHA,8BAIiBf,QAAQ,CAAC,IAAD,CAJzB,yCAIVgB,SAJU,eAICC,YAJD,eAMjB,GAAIC,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAlB,CAEArB,SAAS,CAAC,UAAM,CAEZO,KAAK,CAACe,GAAN,CAAU,iDAAV,EAA6DC,IAA7D,CAAkE,SAACC,QAAD,CAAc,CAC5Ed,aAAa,CAACc,QAAQ,CAACC,IAAV,CAAb,CACH,CAFD,EAIH,CANQ,CAMN,CAACZ,QAAD,CANM,CAAT,CAQAb,SAAS,sEAAC,mIACNc,WAAW,CAAC,CAAD,CAAX,CADM,sBAEAY,CAAAA,YAAY,EAFZ,8BAGCf,CAAAA,UAAU,EAAIgB,OAAO,CAACC,GAAR,CAAYjB,UAAZ,CAHf,QAIN,GAAIA,UAAJ,CAAgB,CACZK,YAAY,CAAC,KAAD,CAAZ,CACH,CANK,sDAAD,GAON,CAACP,UAAD,CAPM,CAAT,CASA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,IAAK,GAAIG,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,EAApB,CAAwBA,CAAC,EAAzB,CAA6B,CACzB,GAAIpB,UAAU,EAAKA,UAAU,CAACoB,CAAD,CAAV,CAAcC,IAAd,EAAsBb,WAAzC,CAAuD,CACnDL,aAAa,CAACH,UAAU,CAACoB,CAAD,CAAX,CAAb,CACA,OACH,CACJ,CACDF,OAAO,CAACC,GAAR,CAAY,MAAZ,EACH,CARD,CAUA,mBACI,yBAAGb,SAAS,cAAG,KAAC,OAAD,IAAH,cAAiB,MAAC,UAAD,yBACzB,gFADyB,cAEzB,MAAC,UAAD,yBACI,YAAK,GAAG,0BAAoBJ,UAAU,CAACoB,KAA/B,QAAR,CAAoD,GAAG,CAAEpB,UAAU,CAACqB,IAApE,EADJ,cAEI,aAAK,KAAK,CAAC,aAAX,wBACI,UAAG,KAAK,CAAC,MAAT,UAAiBrB,UAAU,CAACsB,OAAX,CAAmBC,KAApC,EADJ,cAEI,UAAG,KAAK,CAAC,MAAT,UAAiBvB,UAAU,CAACqB,IAA5B,EAFJ,GAFJ,cAMI,YAAK,KAAK,CAAC,aAAX,UACKrB,UAAU,CAACsB,OAAX,CAAmBE,IAAnB,CAAwBC,KAAxB,CAA8B,OAA9B,EAAuCC,GAAvC,CAA2C,SAAAC,IAAI,CAAI,CAChD,mBAAQ,qBAAIA,IAAI,CAACC,OAAL,CAAa,mCAAb,CAAkD,EAAlD,CAAJ,cAA0D,aAA1D,GAAR,CACH,CAFA,CADL,EANJ,GAFyB,cAczB,MAAC,YAAD,yBACI,UAAG,KAAK,CAAC,YAAT,oFADJ,cAEI,mCACI,YAAI,OAAO,CAAC,EAAZ,wBACI,YACI,GAAG,0BAAoB5B,UAAU,CAAC6B,OAAX,CAAmB,CAAnB,EAAsBT,KAA1C,QADP,CAEI,GAAG,CAAEpB,UAAU,CAAC6B,OAAX,CAAmB,CAAnB,EAAsBR,IAF/B,EADJ,cAKI,sBACKrB,UAAU,CAAC6B,OAAX,CAAmB,CAAnB,EAAsBC,IAAtB,CAA2BL,KAA3B,CAAiC,MAAjC,EAAyCC,GAAzC,CAA6C,SAAAC,IAAI,CAAI,CAClD,mBAAQ,mBAAIA,IAAI,CAACC,OAAL,CAAa,mCAAb,CAAkD,EAAlD,CAAJ,EAAR,CACH,CAFA,CADL,EALJ,GADJ,cAYI,YAAI,OAAO,CAAC,8BAAZ,wBACI,YACI,GAAG,0BAAoB5B,UAAU,CAAC6B,OAAX,CAAmB,CAAnB,EAAsBT,KAA1C,QADP,CAEI,GAAG,CAAEpB,UAAU,CAAC6B,OAAX,CAAmB,CAAnB,EAAsBR,IAF/B,EADJ,cAKI,sBACKrB,UAAU,CAAC6B,OAAX,CAAmB,CAAnB,EAAsBC,IAAtB,CAA2BL,KAA3B,CAAiC,MAAjC,EAAyCC,GAAzC,CAA6C,SAAAC,IAAI,CAAI,CAClD,mBAAQ,mBAAIA,IAAI,CAACC,OAAL,CAAa,mCAAb,CAAkD,EAAlD,CAAJ,EAAR,CACH,CAFA,CADL,EALJ,GAZJ,GAFJ,GAdyB,cAyCzB,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACI,KAAC,SAAD,uEADJ,EAzCyB,GAA7B,EADJ,CAkDH,CArFD,CAuFA,cAAe/B,CAAAA,MAAf,CAEA,GAAMkC,CAAAA,UAAU,CAAGzC,MAAM,CAAC0C,GAAV,geAAhB,CAwBA,GAAMC,CAAAA,UAAU,CAAG3C,MAAM,CAAC0C,GAAV,mgBAAhB,CA4BA,GAAME,CAAAA,YAAY,CAAG5C,MAAM,CAAC0C,GAAV,iaAAlB,CAyBA,GAAMG,CAAAA,SAAS,CAAG7C,MAAM,CAAC8C,MAAV,wOAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Styled from \"styled-components\";\r\nimport { Link, Route, BrowserRouter as Router } from \"react-router-dom\"\r\nimport Spinner from \"../Spinner\"\r\nimport axios from \"axios\";\r\n\r\nconst Result = () => {\r\n    const [resultList, setResultList] = useState();\r\n    const [targetList, setTargetList] = useState();\r\n    const [reRender, setReRender] = useState();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    let mbti_result = JSON.parse(localStorage.getItem(\"fin_result\"))\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get(\"https://mern-cafe-mbti.herokuapp.com/get/result\").then((response) => {\r\n            setResultList(response.data)\r\n        })\r\n\r\n    }, [reRender])\r\n\r\n    useEffect(async () => {\r\n        setReRender(0)\r\n        await getFinalMbti()\r\n        await (targetList && console.log(targetList))\r\n        if (targetList) {\r\n            setIsLoading(false)\r\n        }\r\n    }, [resultList])\r\n\r\n    const getFinalMbti = () => {\r\n        for (let i = 0; i < 16; i++) {\r\n            if (resultList && (resultList[i].mbti == mbti_result)) {\r\n                setTargetList(resultList[i])\r\n                return\r\n            }\r\n        }\r\n        console.log('fail')\r\n    }\r\n\r\n    return (\r\n        <>{isLoading ? <Spinner /> : <ResultWrap>\r\n            <h3>나와 어울리는 음료는</h3>\r\n            <MainResult>\r\n                <img src={`/images/coffee/${targetList.image}.png`} alt={targetList.name} />\r\n                <div class=\"coffee-feat\">\r\n                    <p class=\"feat\">{targetList.feature.short}</p>\r\n                    <p class=\"name\">{targetList.name}</p>\r\n                </div>\r\n                <div class=\"coffee-desc\">\r\n                    {targetList.feature.long.split('</br>').map(line => {\r\n                        return (<p>{line.replace(/(<\\/?(?:a|p|img)[^>]*>)|<[^>]+>/ig, '')}<br /></p>)\r\n                    })}\r\n                </div>\r\n            </MainResult>\r\n            <ResultFriend>\r\n                <p class=\"best_title\">연말에 생각 날 최고의 궁합</p>\r\n                <ul>\r\n                    <li onclick=\"\">\r\n                        <img\r\n                            src={`/images/coffee/${targetList.friends[0].image}.png`}\r\n                            alt={targetList.friends[0].name}\r\n                        />\r\n                        <span>\r\n                            {targetList.friends[0].desc.split('</p>').map(line => {\r\n                                return (<p>{line.replace(/(<\\/?(?:a|p|img)[^>]*>)|<[^>]+>/ig, '')}</p>)\r\n                            })}\r\n                        </span>\r\n                    </li>\r\n                    <li onclick=\"location.href = '/result/14'\">\r\n                        <img\r\n                            src={`/images/coffee/${targetList.friends[1].image}.png`}\r\n                            alt={targetList.friends[1].name}\r\n                        />\r\n                        <span>\r\n                            {targetList.friends[1].desc.split('</p>').map(line => {\r\n                                return (<p>{line.replace(/(<\\/?(?:a|p|img)[^>]*>)|<[^>]+>/ig, '')}</p>)\r\n                            })}\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n            </ResultFriend>\r\n            <Link to=\"/\">\r\n                <ReturnBtn>\r\n                    테스트 다시 하러가기\r\n            </ReturnBtn>\r\n            </Link>\r\n        </ResultWrap>\r\n        }</>\r\n    );\r\n};\r\n\r\nexport default Result;\r\n\r\nconst ResultWrap = Styled.div`\r\ndisplay: flex;\r\nalign-items: center;\r\nflex-direction: column;\r\nfont-family: \"Cafe24Oneprettynight\";\r\ncolor: #3a1a00;\r\npadding: 50px 30px;\r\noverflow-y: scroll;\r\noverflow-x: hidden;\r\nwidth: 100%;\r\nheight: 100%;\r\nbackground: url(../../images/background/background.png);\r\nh3{\r\n    margin: 30px 0;\r\n    text-align: center;\r\nfont-size: 2rem;\r\n}\r\na {\r\n    display: flex;\r\n    text-align: center;\r\n    width: 100%;\r\n}\r\n`;\r\n\r\nconst MainResult = Styled.div`\r\n    display: flex;\r\nalign-items: center;\r\njustify-content: center;\r\nflex-direction: column;\r\nimg {\r\n    width: 220px;\r\n}\r\n\r\n.coffee-feat {\r\n    text-align: center;\r\n    margin: 15px 0 35px 0;\r\n    .feat {\r\n        font-size: 1.7rem;\r\n        margin-bottom: 10px;\r\n        color: #b56467;\r\n    }\r\n    .name {\r\n        font-size: 2.7rem;\r\n    }\r\n}\r\n\r\n.coffee-desc p {\r\n    line-height: 1.5rem;\r\n    font-size: 1.1rem;\r\n    margin-bottom: 1rem;\r\n}\r\n`;\r\nconst ResultFriend = Styled.div`\r\ndisplay: flex;\r\nalign-items: center;\r\njustify-content: center;\r\nflex-direction: column;\r\np.best_title {\r\n    font-size: 1.5rem;\r\n    margin : 10px 0 30px 0;\r\n}\r\nimg {\r\n    width: 130px;\r\n}\r\n\r\nul {\r\n    display: flex;\r\n    li{\r\n\r\n        display: flex:\r\n        align-items: center;\r\n        justify-content: center;\r\ntext-align: center;\r\n    }\r\n}\r\n`;\r\n\r\nconst ReturnBtn = Styled.button`\r\nmargin: 50px;\r\npadding: 1rem 0;\r\nfont-size: 1.5rem;\r\nheight: 5rem;\r\nwidth: 100%;\r\nfont-family: \"Cafe24Oneprettynight\";\r\nbackground-color: beige;\r\nborder: none;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}